---
// Example usage page for AutoContrast component
//import AutoContrast from '../components/AutoContrast.astro';

const demoColors = [
  "#000000",
  "#ffffff",
  "#3498db",
  "#e74c3c",
  "#2ecc71",
  "#f39c12",
  "#9b59b6",
  "#1abc9c",
  "#34495e",
  "#95a5a6",
];
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AutoContrast Component Demo</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          system-ui,
          -apple-system,
          sans-serif;
        padding: 2rem;
        background: #f5f5f5;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      h1 {
        margin-bottom: 2rem;
        color: #333;
      }

      .demo-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1rem;
        margin: 2rem 0;
      }

      .card {
        padding: 2rem;
        border-radius: 8px;
        min-height: 150px;
      }

      .interactive-demo {
        margin: 3rem 0;
        padding: 2rem;
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .color-picker {
        width: 100%;
        height: 60px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        margin-top: 0.5rem;
      }

      h2 {
        color: #333;
        margin-bottom: 1rem;
      }

      .tag-examples {
        margin-top: 2rem;
      }

      .tag-examples > * {
        margin: 1rem 0;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>AutoContrast Component Demo</h1>

      <!-- Basic usage -->
      <AutoContrast backgroundColor="#3498db" class="card">
        <h2>Basic Usage</h2>
        <p>This component automatically calculates the best contrast color (black or white) based on the background.</p>
      </AutoContrast>

      <!-- Different HTML tags -->
      <div class="tag-examples">
        <h2>Different HTML Tags</h2>

        <AutoContrast backgroundColor="#e74c3c" tag="section" class="card">
          <h3>Section Tag</h3>
          <p>You can use any HTML tag!</p>
        </AutoContrast>

        <AutoContrast backgroundColor="#2ecc71" tag="article" class="card">
          <h3>Article Tag</h3>
          <p>Works with semantic HTML elements.</p>
        </AutoContrast>

        <AutoContrast backgroundColor="#f39c12" tag="aside" class="card">
          <h3>Aside Tag</h3>
          <p>Flexible component structure.</p>
        </AutoContrast>
      </div>

      <!-- Grid of colors -->
      <h2 style="margin-top: 3rem;">Color Palette Showcase</h2>
      <div class="demo-grid">
        {
          demoColors.map((color) => (
            <AutoContrast backgroundColor={color} class="card">
              <strong>{color}</strong>
              <p style="margin-top: 0.5rem; font-size: 0.9em; opacity: 0.9;">Auto-contrast text</p>
            </AutoContrast>
          ))
        }
      </div>

      <!-- Interactive demo -->
      <div class="interactive-demo">
        <h2>Interactive Color Picker</h2>
        <p style="margin-bottom: 1rem; color: #666;">
          Change the background color and watch the text color automatically adjust:
        </p>

        <AutoContrast backgroundColor="#9b59b6" class="card" id="interactive-card">
          <h3>Dynamic Color Adjustment</h3>
          <p
            >The text color will automatically flip between black and white to maintain optimal contrast as you change
            the background color below.</p
          >
        </AutoContrast>

        <label for="colorPicker" style="display: block; margin-top: 1rem; font-weight: 600; color: #333;">
          Pick a background color:
        </label>
        <input type="color" id="colorPicker" class="color-picker" value="#9b59b6" />
      </div>

      <!-- WCAG AAA example -->
      <h2 style="margin-top: 3rem;">WCAG AAA Compliance</h2>
      <AutoContrast backgroundColor="#1a1a1a" class="card" useWcagAAA={true}>
        <h3>High Contrast Mode</h3>
        <p
          >This component follows WCAG guidelines for accessibility, ensuring readable text across all background
          colors.</p
        >
      </AutoContrast>
    </div>

    <script>
      // Interactive color picker
      const colorPicker = document.getElementById("colorPicker") as HTMLInputElement;
      const interactiveCard = document.getElementById("interactive-card") as any;

      if (colorPicker && interactiveCard) {
        colorPicker.addEventListener("input", (e) => {
          const color = (e.target as HTMLInputElement).value;
          if (interactiveCard.setBackgroundColor) {
            interactiveCard.setBackgroundColor(color);
          }
        });
      }
    </script>
  </body>
</html>
