---
import { getCollection } from "astro:content";

//import IntroCard from "@components/IntroCard.astro";
// import Svg1 from "@assets/intro/1.svg";
// import Svg2 from "@assets/intro/2.svg";
// import Svg3 from "@assets/intro/3.svg";

// Get all intro entries and sort them
const introEntries = await getCollection("intro");
const sortedEntries = introEntries.sort((a, b) => {
	// Sort by filename
	const aNum = parseInt(a.id.match(/^\d+/)?.[0] || "0");
	const bNum = parseInt(b.id.match(/^\d+/)?.[0] || "0");
	return aNum - bNum;
});

// Optional: Filter published entries only
// const publishedEntries = sortedEntries.filter(entry => entry.data.published !== false);

interface Props {
	showContent?: boolean;
	limit?: number;
}

const { showContent = true, limit } = Astro.props;
const entriesToShow = limit ? sortedEntries.slice(0, limit) : sortedEntries;
---

<section class="intro_pitch">
  <div class="intro_wrap">
    {
      sortedEntries.map((i) => (
        <div>
          <h2>{i.data.title}</h2>
        </div>
      ))
    }
    <!-- {entriesToShow.map((entry) => <IntroCard entry={entry} showContent={showContent} />)} -->
  </div>
</section>
