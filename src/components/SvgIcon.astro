---
// src/components/SvgIcon.astro
// A flexible SVG icon component that can load icons by name

export interface Props {
  name: string;
  class?: string;
  width?: number | string;
  height?: number | string;
  alt?: string;
}

const { name, class: className = '', width, height, alt = '' } = Astro.props;

// Map icon names to their SVG content
// You can either import SVGs or define them inline
const icons: Record<string, string> = {
  'logo_white': `<svg viewBox="0 0 400 400" fill="white">
    <path d="M328.813 60.47L328.78 224.3c-.006 43.783-11.565 75.953-34.648 96.506-23.096 20.562-53.638 31.03-91.638 31.43-38.827.4-69.976-9.04-93.463-28.317-23.496-19.284-35.235-44.104-35.228-74.486.003-13.4 6.537-20.18 19.618-20.315 13.89-.144 20.838 4.912 20.835 15.163 0 22.482 7.86 40.15 23.593 53.008 15.72 12.85 36.863 19.146 63.433 18.87 27.783-.29 49.23-8.007 64.355-23.153 15.116-15.146 22.688-37.906 22.693-68.28l.036-192.883C261.95 17.906 231.884 10 200 10 95.233 10 10 95.234 10 200.002 10 304.77 95.233 390 200 390c104.766 0 190-85.23 190-189.998 0-55.104-23.588-104.795-61.187-139.533zM56.593 184.72l52.3-49.918-12.416-70.414 64.732 33.195L225.88 64.28l-12.297 70.435 52.39 49.832-72.33 10.334-32.296 64.1-32.408-64.044-72.35-10.215z"/>
  </svg>`,
  
  'email': `<svg viewBox="0 0 24 24" fill="currentColor">
    <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
  </svg>`,
  
  'qr': `<svg viewBox="0 0 100 100" fill="currentColor">
    <rect x="10" y="10" width="30" height="30"/>
    <rect x="60" y="10" width="30" height="30"/>
    <rect x="10" y="60" width="30" height="30"/>
    <rect x="20" y="20" width="10" height="10" fill="white"/>
    <rect x="70" y="20" width="10" height="10" fill="white"/>
    <rect x="20" y="70" width="10" height="10" fill="white"/>
  </svg>`,
  
  // Add more icons as needed
};

const svgContent = icons[name];

// Build style attribute if width/height provided
const style = (width || height) ? 
  `width: ${width}${typeof width === 'number' ? 'px' : ''}; height: ${height}${typeof height === 'number' ? 'px' : ''};` : 
  undefined;
---

{svgContent ? (
  <span 
    class={`svg-icon ${className}`}
    aria-label={alt}
    role={alt ? 'img' : 'presentation'}
    style={style}
    set:html={svgContent}
  />
) : (
  <span class={`svg-icon svg-icon-missing ${className}`}>
    [{name}]
  </span>
)}

<style>
  .svg-icon {
    display: inline-block;
    vertical-align: middle;
  }
  
  .svg-icon svg {
    width: 100%;
    height: 100%;
  }
  
  .svg-icon-missing {
    color: red;
    font-size: 0.8em;
  }
</style>