---
// src/components/WorksCard.astro
export interface Props {
    id: string;
    date: string;
    title: string;
    subtitle?: string | null;
    category: string;
    url: string;
    description?: string | null;
    icon?: {
        url: string;
        name: string;
    };
}

const { title, subtitle, category, url, description, icon } = Astro.props;
---

<style>
    article {
        padding: 0 !important;
    }
    .works_card {
        user-select: none;
        position: relative;
        background-color: var(--background_color);
        background-color: white;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        border: 1px solid var(--brand);
        border-radius: 8px;
        padding: 1.5rem;
        transition:
            transform 0.2s,
            box-shadow 0.2s;
    }

    .action_button {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }

    .works_card:hover {
        transform: translateY(3px);
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .work_icon {
        width: 25%;
        height: auto;
        object-fit: contain;
        margin-block: calc(var(--space_block) / 2);
        margin-inline: auto;
    }

    h3 {
        margin: 0;
        padding-bottom: calc(var(--space_block) / 5);
        font-size: var(--font_size);
        text-align: center;
    }

    a.action_button {
        position: relative;
        text-decoration: none;
        color: inherit;
    }
    .title_heading_group {
        margin-block: 0;
    }
    .subtitle {
        display: block;
        font-size: 0.875rem;
        font-weight: normal;
        color: #6b7280;
        margin-top: 0.25rem;
    }
    .webapp:before {
        content: "APP";
        display: block;
        font-size: calc(var(--font_rem) / 1.5);
        font-weight: 400;
        position: absolute;
        top: 10px;
        right: 10px;
        padding-right: 10px;
        padding-left: 10px;
        border: 1px solid var(--brand);
        background-color: inherit;
        color: var(--brand);
    }
    header {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
    }
</style>

<article class={"works_card " + category}>
    <a
        href={url}
        target="_blank"
        rel="noopener noreferrer"
        class="action_button"
    >
        <header>
            <h3 class="title_heading_group weight500">
                {title}
                {subtitle && <span class="subtitle">{subtitle}</span>}
            </h3>
        </header>
        {
            icon && (
                <img
                    src={icon.url}
                    alt={icon.name}
                    class="work_icon"
                    loading="lazy"
                />
            )
        }
    </a>
</article>
